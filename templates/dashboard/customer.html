{% extends 'base.html' %}

{% block content %}


  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">Home Page</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Starter Page</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <div class="content">
      <div class="container-fluid">


        <div class="row">
          <div class="col-md">
            <div class="card card-body">
              <h5>Customer:</h5>
              <hr>
              <a class="btn btn-outline-info  btn-sm btn-block" href="">Update Customer</a>
              <a class="btn btn-outline-info  btn-sm btn-block" href="{% url 'dashboard:create_order' customer.id %}">Place
                Order</a>

            </div>
          </div>

          <div class="col-md">
            <div class="card card-body">
              <h5>Contact Information</h5>
              <hr>
              <p>Email: {{ customer.email }}</p>
              <p>Phone: {{ customer.phone }}</p>
            </div>
          </div>

          <div class="col-md">
            <div class="card card-body">
              <h5>Total Orders</h5>
              <hr>
              <h1 style="text-align: center;padding: 10px">{{ order_count }}</h1>
            </div>
          </div>
        </div>


        <br>
        <div class="row">
          <div class="col">
            <div class="card card-body">

              <form method="get">
                {{ myFilter.form }}

                <button class="btn btn-primary" type="submit">Search</button>
              </form>

            </div>
          </div>

        </div>
        <br>

        <div class="row">
          <div class="col-md">
            <div class="card card-body">
              <table class="table table-sm">
                <tr>
                  <th>商品</th>
                  <th>備註</th>
                  <th>訂購日期</th>
                  <th>狀態</th>
                  <th>更新</th>
                  <th>刪除</th>
                </tr>

                {% for order in orders %}

                  <tr>
                    <td>{{ order.product }}</td>
                    <td>{{ order.note }}</td>
                    <td>{{ order.date_created }}</td>
                    <td>{{ order.status }}</td>
                    <td><a class="btn btn-sm btn-info" href="{% url 'dashboard:update_order' order.id %}">Update</a></td>

                    <td><a class="btn btn-sm btn-danger" href="{% url 'dashboard:delete_order' order.id %}">Delete</a></td>
                  </tr>
                {% endfor %}

              </table>
            </div>
          </div>
        </div>





      </div><!--container-fluid-->
    </div><!-- /.content -->
  </div><!-- /.content-wrapper -->
{% endblock %}
